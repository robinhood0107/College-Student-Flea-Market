<!-- 헤더 -->
<header class="header">
  <div class="header-container">
    <div class="header-logo-section">
      <a href="/product/list" class="header-logo">
        <!-- 로고 아이콘 -->
        <span class="header-logo-icon material-symbols-outlined">store</span>
        <!-- 제목 -->
        <h2 class="header-logo-text">Campus flea Market</h2>
      </a>
      <!-- 다크모드 토글 버튼 -->
      <button id="dark-mode-toggle" class="header-dark-toggle" type="button" aria-label="다크모드 토글">
        <span class="material-symbols-outlined dark-mode-icon-light">dark_mode</span>
        <span class="material-symbols-outlined dark-mode-icon-dark" style="display: none;">light_mode</span>
      </button>
    </div>
    <!-- 검색바 -->
    <div class="header-search">
      <form class="search-form" action="/product/list" method="GET">
        <label class="search-label">
          <div class="search-input-wrapper">
            <div class="search-icon-wrapper">
              <span class="material-symbols-outlined">search</span>
            </div>
            <input 
              class="search-input" 
              placeholder="Search for items..." 
              name="keyword"
              value="<%= typeof keyword !== 'undefined' ? keyword : '' %>"
            />
          </div>
        </label>
      </form>
    </div>
    <!-- 로그인 상태에 따른 버튼 분기 -->
    <% if (user) { %>
      <!-- 로그인된 경우: 상품 등록, 마이페이지, 로그아웃 버튼 -->
      <div class="header-buttons">
        <a href="/product/write" class="btn btn-primary">
          <span class="truncate">상품 등록</span>
        </a>
        <a href="/user/profile" class="btn btn-secondary">
          <span class="truncate">마이페이지</span>
        </a>
        <a href="/auth/logout" class="btn btn-secondary">
          <span class="truncate">로그아웃</span>
        </a>
      </div>
    <% } else { %>
      <!-- 로그인 안 된 경우: 회원가입, 로그인 버튼 -->
      <div class="header-buttons">
        <a href="/auth/join" class="btn btn-primary">
          <span class="truncate">Sign Up</span>
        </a>
        <a href="/auth/login" class="btn btn-secondary">
          <span class="truncate">Login</span>
        </a>
      </div>
    <% } %>
  </div>
</header>

