<!-- í—¤ë” -->
<header class="header">
  <div class="header-container">
    <div class="header-logo-section">
      <a href="/product/list" class="header-logo">
        <!-- ë¡œê³  ì•„ì´ì½˜ -->
        <span class="header-logo-icon material-symbols-outlined">store</span>
        <!-- ì œëª© -->
        <h2 class="header-logo-text">Campus flea Market</h2>
      </a>
      <!-- ë‹¤í¬ëª¨ë“œ í† ê¸€ ë²„íŠ¼ -->
      <button id="dark-mode-toggle" class="header-dark-toggle" type="button" aria-label="ë‹¤í¬ëª¨ë“œ í† ê¸€">
        <span class="material-symbols-outlined dark-mode-icon-light">dark_mode</span>
        <span class="material-symbols-outlined dark-mode-icon-dark" style="display: none;">light_mode</span>
      </button>
    </div>
    <!-- ê²€ìƒ‰ë°” -->
    <div class="header-search">
      <form class="search-form" action="/product/list" method="GET">
        <label class="search-label">
          <div class="search-input-wrapper">
            <div class="search-icon-wrapper">
              <span class="material-symbols-outlined">search</span>
            </div>
            <input 
              class="search-input" 
              placeholder="Search for items..." 
              name="keyword"
              value="<%= typeof keyword !== 'undefined' ? keyword : '' %>"
            />
          </div>
        </label>
      </form>
    </div>
    <!-- ë¡œê·¸ì¸ ìƒíƒœì— ë”°ë¥¸ ë²„íŠ¼ ë¶„ê¸° -->
    <% if (user) { %>
      <div class="header-buttons">

        <!-- ğŸŸ¦ ê´€ë¦¬ì ê³„ì •: ê´€ë¦¬ì í˜ì´ì§€ ë²„íŠ¼ -->
        <% if (user.isAdmin === 1 || user.isAdmin === true) { %>
          <a href="/admin/dashboard" class="btn btn-secondary">
            <span class="truncate">ê´€ë¦¬ì í˜ì´ì§€</span>
          </a>
        <% } %>

        <!-- ì¼ë°˜ ë²„íŠ¼ë“¤ -->
        <a href="/product/write" class="btn btn-primary">
          <span class="truncate">ìƒí’ˆ ë“±ë¡</span>
        </a>
        <a href="/user/profile" class="btn btn-secondary">
          <span class="truncate">ë§ˆì´í˜ì´ì§€</span>
        </a>
        <a href="/auth/logout" class="btn btn-secondary">
          <span class="truncate">ë¡œê·¸ì•„ì›ƒ</span>
        </a>
      </div>
    <% } else { %>
      <!-- ë¡œê·¸ì¸ ì•ˆ ëœ ê²½ìš°: íšŒì›ê°€ì…, ë¡œê·¸ì¸ ë²„íŠ¼ -->
      <div class="header-buttons">
        <a href="/auth/join" class="btn btn-primary">
          <span class="truncate">Sign Up</span>
        </a>
        <a href="/auth/login" class="btn btn-secondary">
          <span class="truncate">Login</span>
        </a>
      </div>
    <% } %>
  </div>
</header>

